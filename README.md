danrw-rest-api
==============

A RESTful API to a DA-NRW (Digitales Archiv - Nordrhein-Westfalen) instance. The API intends to be conforming to the OAIS (Open Archival Information System) workflow.


### API prefix

```
/rest/v1
```

### Ingest data

```
POST /ingest
```

The file to ingest needs to be POSTed using the Content-Type multipart/form-data which allows the uploading of binary files.

#### Response

```
Status: 200 OK
```

### Get status of specific ingest

```
GET /ingest/status
```

#### Parameters

| Name  | Type | Description |
| ----- | ---- | ----------- | 
| identifier  | string | The identifier of the ingested data generated by the DA-NRW (e.g. "1-20141028174"). |
| urn  | string  | The URN of the ingested data generated by the DA-NRW (e.g. "urn:nbn:de:danrw-1-20141028174"). |
| origName  | string | Original name of the ingested file without file prefix. |

#### Response

```
Status: 200 OK
```
```
{
    "result": [
        {
            "urn": "urn:nbn:de:danrw-1-20141028174",
            "contractor": "TEST",
            "origName": "20141028 Ingest Test 1",
            "identifier": "1-20141028174",
            "status": "in progress"
        }
    ]
}
```

### Get list of all ingested files

```
GET /ingest/status
```

#### Response

```
Status: 200 OK
```
```
{
    "result": [
        {
            "status": "archived",
            "urn": "urn:nbn:de:danrw-1-20141028182",
            "contractor": "TEST",
            "origName": "20141028 Ingest Test 2",
            "packages": [
                "1"
            ]
        },
        {
            "status": "archived",
            "urn": "urn:nbn:de:danrw-1-20141016129",
            "contractor": "TEST",
            "origName": "20141016 Ingest Test 1",
            "packages": []
        },
        {
            "status": "archived",
            "urn": "urn:nbn:de:danrw-1-20141016129",
            "contractor": "TEST",
            "origName": "20141016 Ingest Test 1",
            "packages": [
                "1"
            ]
        },
        {
            "status": "archived",
            "urn": "urn:nbn:de:danrw-1-2014101581",
            "contractor": "TEST",
            "origName": "20141014 Ingest Test 1",
            "packages": []
        },
        {
            "status": "archived",
            "urn": "urn:nbn:de:danrw-1-20141028196",
            "contractor": "TEST",
            "origName": "20141028 Ingest Test 3",
            "packages": []
        },
        {
            "status": "archived",
            "urn": "urn:nbn:de:danrw-1-20141028196",
            "contractor": "TEST",
            "origName": "20141028 Ingest Test 3",
            "packages": [
                "1"
            ]
        }
    ]
}
```
